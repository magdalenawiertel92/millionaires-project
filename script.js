const questions = [
    [{
        question: 'Czym Chińczycy tradycyjnie jadają potrawy z ryżu?',
        answers: [{
            answer: 'Łyżkami',
            isCorrect: false
        }, {
            answer: 'Wykałaczkami',
            isCorrect: false
        }, {
            answer: 'Widelcami',
            isCorrect: false
        }, {
            answer: 'Pałeczkami',
            isCorrect: true
        }, ]
    }, {
        question: 'Kto został pierwszym premierem rządu polskiego na emigracji?',
        answers: [{
            answer: 'Władysław Sikorski  ',
            isCorrect: true
        }, {
            answer: 'Józef Haller',
            isCorrect: false
        }, {
            answer: 'Józef Piłsudski',
            isCorrect: false
        }, {
            answer: 'Julian Kulski',
            isCorrect: false
        }]
    }, {
        question: 'Jaka jest energia potencjalna ciała poruszającego się ruchem periodycznym, gdy znajduje się ono w maksymalnym wychyleniu?',
        answers: [{
            answer: 'Maksymalna',
            isCorrect: true
        }, {
            answer: 'Równa zero',
            isCorrect: false
        }, {
            answer: 'Zależy od wychylenia',
            isCorrect: false
        }, {
            answer: 'Równa połowie maksymalnej energii',
            isCorrect: false
        }]
    }, {
        question: 'Światło monochromatyczne jest światłem…',
        answers: [{
            answer: 'Jednobarwnym',
            isCorrect: true
        }, {
            answer: 'Czerwonym',
            isCorrect: false
        }, {
            answer: 'Wielobarwnym',
            isCorrect: false
        }, {
            answer: 'Zielonym',
            isCorrect: false
        }]
    }, {
        question: 'Czym jest tradycyjna kostka do gier planszowych ?',
        answers: [{
            answer: 'Walcem',
            isCorrect: false
        }, {
            answer: 'Sześcianem',
            isCorrect: true
        }, {
            answer: 'Trapezem',
            isCorrect: false
        }, {
            answer: 'Kulą',
            isCorrect: false
        }]
    }],
    [{
        question: 'Wydma sierpowa to inaczej:',
        answers: [{
            answer: 'Serrir',
            isCorrect: false
        }, {
            answer: 'Oaza',
            isCorrect: false
        }, {
            answer: 'Karawana',
            isCorrect: false
        }, {
            answer: 'Barchan',
            isCorrect: true
        }, ]
    }, {
        question: 'W tym największy jest… , żeby dwoje chciało na raz',
        answers: [{
            answer: 'Ambaras',
            isCorrect: true
        }, {
            answer: 'Ananas',
            isCorrect: false
        }, {
            answer: 'Apsaras  ',
            isCorrect: false
        }, {
            answer: 'Banderas',
            isCorrect: false
        }]
    }, {
        question: 'Ile miesięcy liczy kwartał?',
        answers: [{
            answer: '2',
            isCorrect: false
        }, {
            answer: '3',
            isCorrect: true
        }, {
            answer: '4',
            isCorrect: false
        }, {
            answer: '5',
            isCorrect: false
        }]
    }, {
        question: 'Liczba 7 razy większa od liczby 6, to:',
        answers: [{
            answer: '43',
            isCorrect: false
        }, {
            answer: '42',
            isCorrect: true
        }, {
            answer: '41',
            isCorrect: false
        }, {
            answer: '44',
            isCorrect: false
        }]
    }, {
        question: 'Co wydarzyło się podczas wizyty gangsterów z wybrzeża u Bolca w filmie „Chłopaki nie płaczą”(2000)?',
        answers: [{
            answer: 'Jeden z gangsterów miał napad epilepsji  ',
            isCorrect: false
        }, {
            answer: 'Strzelanina',
            isCorrect: true
        }, {
            answer: 'Śmierć szefa',
            isCorrect: false
        }, {
            answer: 'Napad na agencję towarzyską Bolca ',
            isCorrect: false
        }]
    }],
    [{
        question: '7% ze 100 to:',
        answers: [{
            answer: '10',
            isCorrect: false
        }, {
            answer: '0.7',
            isCorrect: false
        }, {
            answer: '17',
            isCorrect: false
        }, {
            answer: '7',
            isCorrect: true
        }, ]
    }, {
        question: 'Wielokąt, który ma wszystkie kąty i boki równe to wielokąt',
        answers: [{
            answer: 'Parzysty',
            isCorrect: false
        }, {
            answer: 'Równoramienny',
            isCorrect: false
        }, {
            answer: 'Foremny  ',
            isCorrect: true
        }, {
            answer: 'Prostokątny',
            isCorrect: false
        }]
    }, {
        question: '11 listopada to rocznica: ',
        answers: [{
            answer: 'Odzyskania niepodległości',
            isCorrect: true
        }, {
            answer: 'Wybuchu I Wojny Światowej',
            isCorrect: false
        }, {
            answer: 'Uchwalenia konstytucji',
            isCorrect: false
        }, {
            answer: 'Powstania listopadowego',
            isCorrect: false
        }]
    }, {
        question: 'Ile jest liczby trzycyfrowych, które składają się tylko z cyfr 0 i 5?',
        answers: [{
            answer: '5',
            isCorrect: false
        }, {
            answer: '3',
            isCorrect: false
        }, {
            answer: '8',
            isCorrect: false
        }, {
            answer: '4',
            isCorrect: true
        }, ]
    }, {
        question: 'Pycha i z nieba…',
        answers: [{
            answer: 'Spycha',
            isCorrect: true
        }, {
            answer: 'Odpycha',
            isCorrect: false
        }, {
            answer: 'Wypadasz',
            isCorrect: false
        }, {
            answer: 'Eliminuje',
            isCorrect: false
        }, ]
    }],
    [{
        question: 'Samochód jadący z prędkością 10 m/s zaczął hamować. Po jakim czasie się zatrzyma jeżeli porusza się ruchem jednostajnie opóźnionym o przyspieszeniu 20 m/s',
        answers: [{
            answer: '1s',
            isCorrect: false
        }, {
            answer: '0.5s',
            isCorrect: true
        }, {
            answer: '2s',
            isCorrect: false
        }, {
            answer: '3s',
            isCorrect: false
        }, ]
    }, {
        question: 'Który z bohaterów „Wściekłych psów” (1992) nie uznaje dawania napiwków?',
        answers: [{
            answer: '„Różowy”',
            isCorrect: true
        }, {
            answer: '„Blondyn”',
            isCorrect: false
        }, {
            answer: '„Pan Niebieski”',
            isCorrect: false
        }, {
            answer: 'Eddie Cabot',
            isCorrect: false
        }]
    }, {
        question: 'Woda to tlenek:',
        answers: [{
            answer: 'Węgla',
            isCorrect: false
        }, {
            answer: 'Srebra',
            isCorrect: false
        }, {
            answer: 'Żelaza',
            isCorrect: false
        }, {
            answer: 'Wodoru',
            isCorrect: true
        }]
    }, {
        question: 'Kogo zamordowano podczas misji w Prusach?',
        answers: [{
            answer: 'Nikogo nie zabito',
            isCorrect: false
        }, {
            answer: 'Św. Wojciecha',
            isCorrect: true
        }, {
            answer: 'Św. Stanisława',
            isCorrect: false
        }, {
            answer: 'Św. Kazimierza',
            isCorrect: false
        }, ]
    }, {
        question: 'Z wytwarzanej przez małże substancji cementującej je podłoża wytwarzano:',
        answers: [{
            answer: 'Biżuterię',
            isCorrect: false
        }, {
            answer: 'Tkaninę',
            isCorrect: true
        }, {
            answer: 'Narzędzia rzeźbiarskie',
            isCorrect: false
        }, {
            answer: 'Broń',
            isCorrect: false
        }, ]
    }],
    [{
        question: 'Światło o długości około 700 nm ludzki mózg postrzega jako barwę…',
        answers: [{
            answer: 'Niebieską',
            isCorrect: false
        }, {
            answer: 'Czerwoną',
            isCorrect: true
        }, {
            answer: 'Zieloną',
            isCorrect: false
        }, {
            answer: 'Żółtą',
            isCorrect: false
        }, ]
    }, {
        question: 'Ile jest liczby trzycyfrowych, które składają się tylko z cyfr 0 i 5?',
        answers: [{
            answer: '5',
            isCorrect: false
        }, {
            answer: '3',
            isCorrect: false
        }, {
            answer: '8',
            isCorrect: false
        }, {
            answer: '4',
            isCorrect: true
        }]
    }, {
        question: 'Międzynarodowa organizacja policyjna ścigająca przestępstwa kryminalne to:',
        answers: [{
            answer: 'Mosad',
            isCorrect: false
        }, {
            answer: 'Czeka',
            isCorrect: false
        }, {
            answer: 'Interpol',
            isCorrect: true
        }, {
            answer: 'Secret Service',
            isCorrect: false
        }]
    }, {
        question: 'Dialekt klasy robotniczej w Londynie to:',
        answers: [{
            answer: 'Scouse',
            isCorrect: false
        }, {
            answer: 'West broomy   ',
            isCorrect: false
        }, {
            answer: 'Cockney',
            isCorrect: true
        }, {
            answer: 'Estaury English',
            isCorrect: false
        }]
    }, {
        question: 'Wschód ma symbol:',
        answers: [{
            answer: 'N',
            isCorrect: false
        }, {
            answer: 'W',
            isCorrect: false
        }, {
            answer: 'E',
            isCorrect: true
        }, {
            answer: 'S',
            isCorrect: false
        }]
    }],
    [{
        question: 'Młoda wdowa postanawia żyć w odosobnieniu. To fabuła filmu:',
        answers: [{
            answer: 'Pora umierać(2007)',
            isCorrect: false
        }, {
            answer: 'Trzy kolory: niebieski (1993)   ',
            isCorrect: true
        }, {
            answer: 'Wszyscy jesteśmy Chrystusami (2006)',
            isCorrect: false
        }, {
            answer: 'Pętla (1957)',
            isCorrect: false
        }, ]
    }, {
        question: 'Gazy wykorzystywane do oddychania to:',
        answers: [{
            answer: 'Tlen i azot',
            isCorrect: true
        }, {
            answer: 'Tlen, a w wyjątkowych sytuacjach inne gazy',
            isCorrect: false
        }, {
            answer: 'Azot i hel   ',
            isCorrect: false
        }, {
            answer: 'Tlen i wodór',
            isCorrect: false
        }]
    }, {
        question: 'Które z określeń nie oznacza wysłannika?',
        answers: [{
            answer: 'Emisariusz',
            isCorrect: false
        }, {
            answer: 'Kurier',
            isCorrect: false
        }, {
            answer: 'Poseł',
            isCorrect: false
        }, {
            answer: 'Ordynat',
            isCorrect: true
        }]
    }, {
        question: 'Akademia Pana Kleska znajdowała się przy ulicy',
        answers: [{
            answer: 'Waniliowej',
            isCorrect: false
        }, {
            answer: 'Czekoladowej',
            isCorrect: true
        }, {
            answer: 'Truskawkowej',
            isCorrect: false
        }, {
            answer: 'Pomarańczowej',
            isCorrect: false
        }]
    }, {
        question: 'Jaka wspólna cecha łączy Jastrzębią Górę, Wolin i Trzęsacz?',
        answers: [{
            answer: 'Rzeźba kresowa',
            isCorrect: false
        }, {
            answer: 'Występowanie mierzeji',
            isCorrect: false
        }, {
            answer: 'Doliny polodowcowe',
            isCorrect: false
        }, {
            answer: 'Występowanie wybrzeża klifowego',
            isCorrect: true
        }]
    }],
    [{
        question: 'Ile, mniej więcej, wynosi średnica Drogi Mlecznej?',
        answers: [{
            answer: '10 lat świetlnych',
            isCorrect: false
        }, {
            answer: '30 tys. lat świetlnych',
            isCorrect: false
        }, {
            answer: '100  lat świetlnych',
            isCorrect: false
        }, {
            answer: '100 tys. lat świetlnych',
            isCorrect: true
        }, ]
    }, {
        question: 'Kąt, który jest większy od kąta prostego, a mniejszy od kąta półpełnego to kąt:',
        answers: [{
            answer: 'Pełny ',
            isCorrect: false
        }, {
            answer: 'Wypukły',
            isCorrect: false
        }, {
            answer: 'Rozwarty   ',
            isCorrect: true
        }, {
            answer: 'Wklęsły',
            isCorrect: false
        }]
    }, {
        question: 'Jakie włoskie miasto było tłem burzliwego i tragicznego w skutkach romansu Romea i Julii?',
        answers: [{
            answer: 'Werona',
            isCorrect: true
        }, {
            answer: 'Wenecja',
            isCorrect: false
        }, {
            answer: 'Florencja',
            isCorrect: false
        }, {
            answer: 'Palermo',
            isCorrect: false
        }]
    }, {
        question: 'Glony żyją:',
        answers: [{
            answer: 'Wyłącznie w wodzie',
            isCorrect: false
        }, {
            answer: 'Przeważnie w wodzie',
            isCorrect: false
        }, {
            answer: 'Wyłącznie w wodach słodkich',
            isCorrect: false
        }, {
            answer: 'Przeważnie na lądach',
            isCorrect: true
        }]
    }, {
        question: 'Kto ukazuje się Pankracemu pod koniec „Nie-boskiej komedii”?',
        answers: [{
            answer: 'Duch Dziejów',
            isCorrect: false
        }, {
            answer: 'Bóg',
            isCorrect: false
        }, {
            answer: 'Chrystus',
            isCorrect: true
        }, {
            answer: 'Diabeł',
            isCorrect: false
        }]
    }],
    [{
        question: 'Kim podczas wojny był główny bohater „Róży” (2011)?',
        answers: [{
            answer: 'Żołnierzem AK',
            isCorrect: true
        }, {
            answer: 'Cichociemnym ',
            isCorrect: false
        }, {
            answer: 'Żołnierzem Wermachtu  ',
            isCorrect: false
        }, {
            answer: 'Dostarczycielem broni dla armii niemieckiej',
            isCorrect: false
        }, ]
    }, {
        question: 'Strzeżonego…',
        answers: [{
            answer: 'Strzeż się',
            isCorrect: false
        }, {
            answer: 'Diabeł strzeże',
            isCorrect: false
        }, {
            answer: 'Pan Bóg strzeże',
            isCorrect: true
        }, {
            answer: 'Ktoś tam strzeże',
            isCorrect: false
        }]
    }, {
        question: 'Kto wypowiedział słynne słowa: "to mały krok dla człowieka, ale wielki skok dla ludzkości"? ',
        answers: [{
            answer: 'Kosmonauta na księżycu ',
            isCorrect: true
        }, {
            answer: 'Laureat Nagrody Nobla ',
            isCorrect: false
        }, {
            answer: 'Genetyk, który sklonował owcę ',
            isCorrect: false
        }, {
            answer: 'Konstruktor pierwszego komputera',
            isCorrect: false
        }]
    }, {
        question: 'Największy wodospad w Polsce nosi nazwę:',
        answers: [{
            answer: 'Wodogrzmoty Mickiewicza',
            isCorrect: false
        }, {
            answer: 'Wodospad Szklarki',
            isCorrect: false
        }, {
            answer: 'Wodospad Kamieńczyka',
            isCorrect: false
        }, {
            answer: 'Siklawa',
            isCorrect: true
        }]
    }, {
        question: 'Hemofilia nazywana jest „chorobą królów” ponieważ:',
        answers: [{
            answer: 'Rozprzestrzeniła się w rodzinach królewskich w XIX w.',
            isCorrect: true
        }, {
            answer: 'Diagnoza oznacza pochodzenie z rodziny królewskiej',
            isCorrect: false
        }, {
            answer: 'Przeważnie chorują na nią tylko władcy',
            isCorrect: false
        }, {
            answer: 'SPo raz pierwszy wykryto ją u cara Mikołaja II',
            isCorrect: false
        }]
    }],
    [{
        question: 'Jakiej długości był szkielet marlina w utworze „Stary człowiek i morze”?',
        answers: [{
            answer: '18 stóp',
            isCorrect: true
        }, {
            answer: '12 stóp',
            isCorrect: false
        }, {
            answer: '2 metry',
            isCorrect: false
        }, {
            answer: '20 stóp',
            isCorrect: false
        }, ]
    }, {
        question: 'Kto próbował przeszkodzić w podpisaniu I-go aktu rozbiorowego?',
        answers: [{
            answer: 'Ignacy Krasicki',
            isCorrect: false
        }, {
            answer: 'Stańczyk',
            isCorrect: false
        }, {
            answer: 'Nikołaj Repnin',
            isCorrect: false
        }, {
            answer: 'Tadeusz Rejtan ',
            isCorrect: true
        }]
    }, {
        question: 'Kto wypowiedział słowa: "Ja nie z soli ani z roli, ale z tego, co mnie boli"?',
        answers: [{
            answer: 'Jan III Sobieski',
            isCorrect: false
        }, {
            answer: 'Bartosz Głowacki',
            isCorrect: false
        }, {
            answer: 'Stefan Czarniecki',
            isCorrect: true
        }, {
            answer: 'Józef Piłsudski',
            isCorrect: false
        }]
    }, {
        question: 'Chloroplasty brunatnic są otoczone:',
        answers: [{
            answer: '2 błonami',
            isCorrect: false
        }, {
            answer: '1 błoną',
            isCorrect: false
        }, {
            answer: '4 błonami ',
            isCorrect: true
        }, {
            answer: '3 błonami ',
            isCorrect: false
        }]
    }, {
        question: 'W którym roku odbyła się misja chrystianizacyjna Prusów Św. Wojciecha?',
        answers: [{
            answer: 'W 1000r.',
            isCorrect: false
        }, {
            answer: 'W 992r.',
            isCorrect: false
        }, {
            answer: 'W 999r.',
            isCorrect: false
        }, {
            answer: 'W 997r.',
            isCorrect: true
        }]
    }],
    [{
        question: 'Jak nazywa się największy wulkan na świecie?',
        answers: [{
            answer: 'Etna',
            isCorrect: false
        }, {
            answer: 'Masyw Tamu',
            isCorrect: false
        }, {
            answer: 'Ojos Del Salado',
            isCorrect: false
        }, {
            answer: 'Manua Loa',
            isCorrect: true
        }, ]
    }, {
        question: 'Jaki symbol chemiczny ma wapń?',
        answers: [{
            answer: 'V',
            isCorrect: false
        }, {
            answer: 'Cu',
            isCorrect: false
        }, {
            answer: 'Ca',
            isCorrect: true
        }, {
            answer: 'Wa',
            isCorrect: false
        }]
    }, {
        question: 'Wafel pieczony z delikatnego ciasta w specjalnych foremkach to: ',
        answers: [{
            answer: 'Bajgiel',
            isCorrect: false
        }, {
            answer: 'Andrut',
            isCorrect: true
        }, {
            answer: 'Bakława',
            isCorrect: false
        }, {
            answer: 'Beza',
            isCorrect: false
        }]
    }, {
        question: 'Gdzie zginął król Polski i Węgier – Władysław?',
        answers: [{
            answer: 'Pod Warną',
            isCorrect: true
        }, {
            answer: 'Pod Chocimiem   ',
            isCorrect: false
        }, {
            answer: 'Pod Koszycami   ',
            isCorrect: false
        }, {
            answer: 'Pod Wiedniem',
            isCorrect: false
        }]
    }, {
        question: 'Roślinnością twardolistną nazywamy zbiorowisko charakterystyczne dla klimatu:',
        answers: [{
            answer: 'Subpolarnego',
            isCorrect: false
        }, {
            answer: 'Równikowego',
            isCorrect: false
        }, {
            answer: 'Umiarkowanego',
            isCorrect: false
        }, {
            answer: 'Śródziemnomorskiego',
            isCorrect: true
        }]
    }],
    [{
        question: 'Który naród był wyśmiewany w „Świętoszku”?',
        answers: [{
            answer: 'Włoski',
            isCorrect: false
        }, {
            answer: 'Francuski',
            isCorrect: true
        }, {
            answer: 'Polski',
            isCorrect: false
        }, {
            answer: 'Niemiecki',
            isCorrect: false
        }, ]
    }, {
        question: 'Do wykrycia czego przeprowadza się reakcję biuretową?',
        answers: [{
            answer: 'Tłuszczów',
            isCorrect: false
        }, {
            answer: 'Aldechydów',
            isCorrect: false
        }, {
            answer: 'Białek',
            isCorrect: true
        }, {
            answer: 'Mydeł',
            isCorrect: false
        }]
    }, {
        question: 'Wysoka czapka futrzana noszona w Wielkiej Brytanii przez reprezentacyjne oddziały gwardii to:',
        answers: [{
            answer: 'Kołpak',
            isCorrect: false
        }, {
            answer: 'Tiara',
            isCorrect: false
        }, {
            answer: 'Papacha',
            isCorrect: false
        }, {
            answer: 'Bermyca',
            isCorrect: true
        }]
    }, {
        question: 'Pies, który jeździł koleją, to:',
        answers: [{
            answer: 'Lanfo',
            isCorrect: false
        }, {
            answer: 'Lampo',
            isCorrect: true
        }, {
            answer: 'Lami',
            isCorrect: false
        }, {
            answer: 'Lapo',
            isCorrect: false
        }]
    }, {
        question: 'Lepszy na wolności kąsek lada…',
        answers: [{
            answer: 'Jak niźli w niewoli szampan z truskawkami',
            isCorrect: false
        }, {
            answer: 'Jak niźli w niewoli dobroci  ',
            isCorrect: false
        }, {
            answer: 'Jak niźli w niewoli delicje',
            isCorrect: false
        }, {
            answer: 'Jak niźli w niewoli przysmaki',
            isCorrect: true
        }]
    }],
    [{
        question: 'As to symbol:',
        answers: [{
            answer: 'Antymonu',
            isCorrect: false
        }, {
            answer: 'Astatu',
            isCorrect: false
        }, {
            answer: 'Aktynu',
            isCorrect: false
        }, {
            answer: 'Arsenu',
            isCorrect: true
        }, ]
    }, {
        question: 'Dokąd trafia Tadeusz po aresztowaniu Marii w utworze „Pożegnanie z Marią”?',
        answers: [{
            answer: 'Do Treblinki',
            isCorrect: false
        }, {
            answer: 'Do Dachau',
            isCorrect: false
        }, {
            answer: 'Do Majdanka',
            isCorrect: false
        }, {
            answer: 'Do Oświęcimia',
            isCorrect: true
        }]
    }, {
        question: 'Gdzie produkowany jest od 1835 roku włoski wermut Cinzano (rodzaj wina)?',
        answers: [{
            answer: 'W Turynie',
            isCorrect: false
        }, {
            answer: 'W Wenecji',
            isCorrect: false
        }, {
            answer: 'W Mediolanie',
            isCorrect: false
        }, {
            answer: 'We Florencji',
            isCorrect: true
        }]
    }, {
        question: 'Jak nazywa się stolica Hondurasu?',
        answers: [{
            answer: 'Maputo',
            isCorrect: false
        }, {
            answer: 'Luanda',
            isCorrect: false
        }, {
            answer: 'Gaborone',
            isCorrect: false
        }, {
            answer: 'Tegucigalpa',
            isCorrect: true
        }]
    }, {
        question: 'Na Święty Ambroży…',
        answers: [{
            answer: 'Poprawią się mrozy',
            isCorrect: true
        }, {
            answer: 'Każdy grzesznik trwoży',
            isCorrect: false
        }, {
            answer: 'Zagoń zwierzę do stodoły',
            isCorrect: false
        }, {
            answer: 'Każdy chętnie chędoży ',
            isCorrect: false
        }]
    }]
]

const sounds = {
    letsPlay: new Audio('./sounds/lets-play.mp3'),
    a500a1000: new Audio('./sounds/500-1000.mp3'),
    a2000a40000: new Audio('./sounds/2000-40000.mp3'),
    correctAnswer: new Audio('./sounds/correct-answer.mp3'),
    a75000: new Audio('./sounds/75000.mp3'),
    a125000a250000: new Audio('./sounds/125000-250000.mp3'),
    a500000: new Audio('./sounds/500000.mp3'),
    a1000000: new Audio('./sounds/1000000.mp3'),
    phoneFriend: new Audio('./sounds/phone-a-friend.mp3'),
    wrongAnswer: new Audio('./sounds/wrong-answer.mp3')
}

const images = [{
        img: 'image/photo1.jpg'
    },
    {
        img: 'image/photo2.jpg'
    },
    {
        img: 'image/photo3.jpg'
    },
    {
        img: 'image/photo4.jpg'
    },
    {
        img: 'image/photo5.webp'
    }
];

let selectedQuestion = {};
let currentStep = 0;
let index = 0;
const amounts = document.querySelectorAll('.amount');
const answerContainer = [...document.querySelectorAll('.answer__container')];
const audianceHelp = document.querySelector('.audiance');
const friendHelp = document.querySelector('.friend');
const halves = document.querySelector('img.half');
let flag = false;
let badAnswerIndex = [];
let answerArray = [];
let leftAnswers = [];
const box = [...document.querySelectorAll('.volume__container .box')];
const guarantee = document.querySelector('.guarantee span');
let allShorts = [];
let element = '';
const winSpan = document.querySelector('.win__text');
let currentlyPlaying = '';
let arrayForHelp = [];
let sumForHelp = 0;
let percentArray = [];
let active = 0;

function changeImage() {
    active++;
    if (active === images.length) {
        active = 0
    }
    document.querySelector('.game__container').style.backgroundImage = `url(${images[active].img})`;
};

// SOUNDS 
function playSounds(sound, repeat, delay) {
    if (currentlyPlaying !== sound) {
        if (sounds[sound]) {
            sounds[sound].currentTime = 0;
            sounds[sound].loop = repeat || false;
            setTimeout(() => {
                sounds[sound].play();
            }, delay || 0)
        }

        currentlyPlaying = sound;
    }
}

function stopSounds(sound, delay) {
    setTimeout(() => {
        sounds[sound].pause();
        sounds[sound].currentTime = 0;
    }, delay || 0);
}

function stopAllSounds(exclude) {
    Object.keys(sounds).forEach((s) => {
        if (s !== exclude) {
            stopSounds(s);
        }
    })
}
const changeVolume = (e) => {
    if (e.currentTarget.dataset.index == 2 || e.currentTarget.dataset.index == 3 || e.currentTarget.dataset.index == 4 || e.currentTarget.dataset.index == 1 || e.currentTarget.dataset.index == 0) {
        box.forEach((b) => b.classList.remove('full'))
        for (let i = 0; i <= e.currentTarget.dataset.index; i++) {
            box[i].classList.add('full')
        }
        Object.keys(sounds).forEach((s) => {
            sounds[s].volume = 0.2 * (parseInt(e.currentTarget.dataset.index) + 1);
        });
    };
}

function activeSound() {
    if (currentStep == 1) {
        playSounds('a500a1000', true);
    } else if (currentStep > 1 && currentStep <= 7) {
        playSounds('a2000a40000', true);
    } else if (currentStep == 7) {
        playSounds('a75000', true);
    } else if (currentStep == 8 || currentStep == 9) {
        playSounds('a125000a250000', true);
    } else if (currentStep == 10) {
        playSounds('a500000', true);
    } else if (currentStep > 10) {
        playSounds('a1000000', true);
    }
}

// SETTINGS 
const backFromSettings = () => {
    document.querySelector('section.settings__container button').addEventListener('click', () => {
        document.querySelector('section.settings__container').style.display = 'none';
    })
    flag = false;
}

function settings() {
    const settings = document.querySelector('section.settings__container');
    settings.style.display = 'block';
    const volume = document.querySelectorAll('section.settings__container .volume__container');
    const image = document.querySelectorAll('section.settings__container .volume__container i');
    const boxVolume = document.querySelectorAll('.box');

    if (flag) {
        volume.forEach((vol) => {
            vol.classList.add('small');
        })
        image.forEach((i) => {
            i.classList.add('small');
        });
        document.querySelector('section.settings__container button').classList.add('small');
        boxVolume.forEach((box) => {
            box.classList.add('small');
        })
        document.querySelector('section.settings__container button i').classList.add('small');
        settings.classList.add('small');
        settings.style.display = 'block';
    } else {
        volume.forEach((vol) => {
            vol.classList.remove('small');
        })
        image.forEach((i) => {
            i.classList.remove('small');
        });
        document.querySelector('section.settings__container button').classList.remove('small');
        boxVolume.forEach((box) => {
            box.classList.remove('small');
        })
        document.querySelector('section.settings__container button i').classList.remove('small');
        settings.classList.remove('small');
    }
    backFromSettings();
}
document.querySelector('.shortcut.sets').addEventListener('click', () => {
    flag = true;
    settings()
});
document.querySelector('button.settings').addEventListener('click', () => {
    flag = false;
    settings();
});

// QUESTION AND ANSWER 
function shuffle(answerArray) {
    var currentIndex = answerArray.length,
        temporaryValue, randomIndex;
    while (0 !== currentIndex) {


        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;


        temporaryValue = answerArray[currentIndex];
        answerArray[currentIndex] = answerArray[randomIndex];
        answerArray[randomIndex] = temporaryValue;
    }
    return answerArray;
}
const getQuestion = () => {
    stopSounds('correctAnswer');
    activeSound();

    setTimeout(() => {

        document.querySelector('.left__column').style.visibility = 'visible';
        document.querySelector('.right__column').style.visibility = 'visible';
    }, 4000)
    answerContainer.forEach((answer) => {
        answer.textContent = ''
    })
    index = Math.floor(Math.random() * questions[currentStep].length);
    shuffle(questions[currentStep][index].answers);

    if (currentStep <= 11) {

        const questionBox = document.querySelector('.question');

        selectedQuestion = questions[currentStep][index];
        questionBox.innerHTML = selectedQuestion.question;
        showAnswers();
        currentStep++;
        answerContainer.forEach((answer) => {
            answer.classList.remove('good__answer')
        });

        answerContainer.forEach((answer) => {
            answer.classList.remove('active')
        });

        document.querySelector('.audiance__box').style.display = 'none';

        document.querySelector('.friend__box').style.display = 'none';

        answerContainer.forEach((answer) => {
            answer.addEventListener('click', checkanswer)
        });

        badAnswerIndex.length = 0;
        guaranteeAmount();
        changeImage();
    }
    document.querySelector('.text').textContent = '';
    visibilityFinish();
    audianceHelp.addEventListener('click', showAudianceHelp);

    friendHelp.addEventListener('click', friendHelpFunction);

    halves.addEventListener('click', halfHelp);
}
const showAnswers = () => {

    answerContainer.forEach(
        (answer) => {

            let spanAnswer = '';

            spanAnswer = document.createElement('span');
            spanAnswer.classList.add(`answer__${answer.dataset.letter}`);
            spanAnswer.textContent = questions[currentStep][index].answers[answer.dataset.index].answer;

            const spanAnswerLetter = document.createElement('span');
            spanAnswerLetter.classList.add('letter__answer');
            spanAnswerLetter.textContent = `${answer.dataset.letter}.`;

            answer.appendChild(spanAnswerLetter);
            answer.appendChild(spanAnswer)
        });

}

// SHORTCUTS 
const visibilityFinish = () => {

    if (guarantee.textContent === '0 zł') {
        document.querySelector('.shortcut.stop').style.visibility = 'hidden';
    } else {
        document.querySelector('.shortcut.stop').style.visibility = 'visible';
    }
}
document.querySelector('.shortcut.stop').addEventListener('click', () => {

    document.querySelector('.win__box').style.display = 'block';

    if (currentStep > 2 && currentStep < 6) {
        winSpan.textContent = `Brawo!! Wygrałeś!! Twoja wygrana wynosi ${guarantee.textContent}`
    } else if (currentStep > 7) {
        winSpan.textContent = `Brawo!! Wygrałeś!! Twoja wygrana wynosi ${guarantee.textContent}`
    }
    document.querySelector('.questions__container').style.visibility = 'hidden';
});
document.querySelector('.return').addEventListener('click', () => {
    document.querySelector('section.game__container').style.display = 'none';
    stopAllSounds();
    document.querySelector('section.start__container').style.display = 'flex';

})
const viewInfo = () => {
    allShorts = [...document.querySelectorAll('.shortcut')];

    document.querySelectorAll('.short').forEach((i) => {
        i.addEventListener('mouseover', (e) => {
            e.target.parentNode.classList.add('show');

            e.target.classList.add('show');
            element = document.createElement('div');
            element.classList.add('show');
            e.target.parentNode.appendChild(element);

            if (e.target.parentNode.classList.contains('return')) {
                element.textContent = 'Powrót do ekranu głównego'
            } else if (e.target.parentNode.classList.contains('sets')) {
                element.textContent = 'Ustawienia'
            } else if (e.target.parentNode.classList.contains('restart')) {
                element.textContent = 'Zagraj od początku'
            } else if (e.target.parentNode.classList.contains('stop')) {
                element.textContent = 'Zakończ grę i zabierz kwotę gwarantowaną'
            }
        })
    })

    allShorts.forEach((s) => {
        s.addEventListener('mouseover', (e) => {
            if (e.target.querySelector('i.fas')) {
                e.target.querySelector('i.fas').classList.add('show');
                e.target.classList.add('show');
                element = document.createElement('div');
                element.classList.add('show');
                e.target.appendChild(element);
            }
            if (e.target.classList.contains('return')) {
                element.textContent = 'Powrót do ekranu głównego'
            } else if (e.target.classList.contains('sets')) {
                element.textContent = 'Ustawienia'
            } else if (e.target.classList.contains('restart')) {
                element.textContent = 'Zagraj od początku'
            } else if (e.target.classList.contains('stop')) {
                element.textContent = 'Zakończ grę i zabierz kwotę gwarantowaną'
            }
        })
    })
}
const closeInfo = () => {
    allShorts.forEach((s) => {
        s.addEventListener('mouseout', (e) => {
            e.target.classList.remove('show');
            if (e.target.querySelector('i.fas')) {
                e.target.querySelector('i.fas').classList.remove('show');
            }
            element.remove();
        })
    })
}

// GAME 
const startGame = () => {

    document.querySelector('section.game__container').style.display = 'block';
    document.querySelector('section.game__container').style.display = 'flex';
    document.querySelector('section.start__container').style.display = 'none';
    startAgain();
}

function startAgain() {
    document.querySelector('.questions__container').style.visibility = 'hidden';
    stopAllSounds();
    playSounds('letsPlay');
    setTimeout(() => {

        document.querySelector('.questions__container').style.visibility = 'visible'
    }, 4000)
    stopSounds('letsPlay', 4000);
    playSounds('a500a1000', true, 4000);
    amounts.forEach((amount) => {
        amount.classList.remove('active')
    });
    currentStep = 0;
    activeStep();
    getQuestion()
    document.querySelector('.h .crossed').style.display = 'none';
    document.querySelector('.f .crossed').style.display = 'none';
    document.querySelector('.a .crossed').style.display = 'none';
    document.querySelector('.win__box').style.display = 'none';
}
const activeStep = () => {
    if (currentStep >= 0 && currentStep <= 11) {
        amounts[amounts.length - (currentStep + 1)].classList.add('active');
        if (amounts[amounts.length - currentStep]) {
            amounts[amounts.length - (currentStep)].classList.remove('active');
        }
    }
};
const checkanswer = (e) => {
    if (!flag) {
        const chosenAnswer = e.currentTarget.dataset.index;
        e.currentTarget.classList.add('active');

        const goodAnswer = e.currentTarget;

        let result = '';

        result = selectedQuestion.answers[chosenAnswer].isCorrect

        const goodAnswerIndex = selectedQuestion.answers.findIndex((l) => l.isCorrect)

        if (result === true) {
            setTimeout(() => {
                goodAnswer.classList.add('good__answer');
                stopAllSounds();
                playSounds('correctAnswer');
                setTimeout(() => {
                    activeStep();
                    getQuestion()
                }, 3000);
            }, 1000)
            if (currentStep > 11) {
                setTimeout(() => {
                    goodAnswer.classList.add('good__answer');
                    setTimeout(() => {
                        document.querySelector('.win__box').style.display = 'block';
                        winSpan.textContent = 'Brawo!! Wygrałeś!! Twoja wygrana wynosi 1 000 000 zł';
                        document.querySelector('.questions__container').style.visibility = 'hidden';
                    }, 2500);
                }, 1000);
            }
        } else {
            setTimeout(() => {
                answerContainer[goodAnswerIndex].classList.add('good__answer');
                stopAllSounds();
                playSounds('wrongAnswer');
                setTimeout(() => {
                    document.querySelector('.win__box').style.display = 'block';
                    winSpan.textContent = `Niestety przegrałeś`;
                    document.querySelector('.questions__container').style.visibility = 'hidden';
                }, 3000)
            }, 1000);
        }
        flag = true;
    }

    if (flag) {
        answerContainer.forEach((answer) => {
            answer.removeEventListener('click', checkanswer)
        });
        flag = false;
    }


};

// GUARANTEE 
const guaranteeAmount = () => {
    if (currentStep < 2) {
        guarantee.textContent = '0 zł'
    }
    if (currentStep > 2 && currentStep < 6) {
        guarantee.textContent = '1 000 zł'
    } else if (currentStep > 7) {
        guarantee.textContent = '40 000 zł'
    }
}

// HELP 
const randomPercent = () => {

    arrayForHelp = [];

    if (!badAnswerIndex.length) {
        selectedQuestion.answers.forEach((answer) => {
            const random = Math.random() * 100;
            if (answer.isCorrect) {
                arrayForHelp.push(random * 5);
                sumForHelp = sumForHelp + random * 5;
            } else {
                arrayForHelp.push(random);
                sumForHelp = sumForHelp + random;
            }
        })
    } else {
        leftAnswers = answerContainer.filter((answer) => {
            return answer.textContent !== ''
        })

        leftAnswers.forEach((answer) => {
            const rand = Math.random() * 100;
            if (selectedQuestion.answers[index] && selectedQuestion.answers[index].isCorrect) {
                arrayForHelp.push(rand * 5);
                sumForHelp = sumForHelp + rand * 5;
            } else {
                arrayForHelp.push(rand);
                sumForHelp = sumForHelp + rand;
            }
        });
    }

    percentArray = arrayForHelp.map((randomPercent) => {
        return Math.floor((randomPercent / sumForHelp) * 100)
    })
};
const audiance = () => {
    if (document.querySelector('.a .crossed').style.display == 'block') {
        audianceHelp.removeEventListener('click', showAudianceHelp);
        console.log(audianceHelp, document.querySelector('.a .crossed').style.display)
    }

}
const showAudianceHelp = () => {

    flag = false;
    // if (document.querySelector('.f .crossed').style.display == 'block') {
    //     stopAllSounds();
    //     activeSound();
    // }
    stopAllSounds('a500a1000'); // tutaj musisz przekazac nazwe dzwieku ktory ma nie byc wykluczony, ma to byc nazwa tego dźwieku ktory odpalasz nizej
    activeSound();

    randomPercent();

    document.querySelector('.audiance__box').style.display = 'block';

    const percentAnswers = [...document.querySelectorAll('.percent__graph')];

    percentAnswers[0].style.height = percentArray[0] * 2 + 'px';

    percentAnswers[1].style.height = percentArray[1] * 2 + 'px';

    percentAnswers[2].style.height = percentArray[2] * 2 + 'px';

    percentAnswers[3].style.height = percentArray[3] * 2 + 'px';

    document.querySelector('.a .crossed').style.display = 'block';
    document.querySelector('.friend__box').style.display = 'none';

    if (badAnswerIndex.length) {
        badAnswerIndex.forEach((graph) => percentAnswers[graph].style.height = 0 + 'px');
    };

    audiance();


}
const friend = () => {
    if (document.querySelector('.f .crossed').style.display == 'block') {
        friendHelp.removeEventListener('click', friendHelpFunction);
    }

}
const friendHelpFunction = () => {

    randomPercent();

    let text = '';

    let goodAnswerLetter = '';

    const biggestPercent = Math.max(...percentArray);

    const friendAnswerIndex = percentArray.findIndex((el) => el === biggestPercent);

    if (leftAnswers.length) {
        goodAnswerLetter = leftAnswers[friendAnswerIndex].dataset.letter;
    } else {
        goodAnswerLetter = answerContainer[friendAnswerIndex].dataset.letter;
    }

    stopAllSounds();
    playSounds('phoneFriend');
    stopSounds('phoneFriend', 44000);
    setTimeout(() => {
        activeSound();
    }, 44000);

    text = `Według mnie będzie to odpowiedź ${goodAnswerLetter}`;

    let indexText = 0;

    setTimeout(() => {
        const addLetter = () => {
            document.querySelector('.text').textContent += text[indexText];
            indexText++;
            if (indexText === text.length) {
                clearInterval(textWriting);
            }
        }
        document.querySelector('.audiance__box').style.display = 'none';
        document.querySelector('.friend__box').style.display = 'block';
        const textWriting = setInterval(addLetter, 60);
    }, 4000)
    document.querySelector('.f .crossed').style.display = 'block';
    friend();
    flag = false;
}
const halfHelp = () => {

    flag = false;

    document.querySelector('.audiance__box').style.display = 'none';
    document.querySelector('.friend__box').style.display = 'none';

    // if (document.querySelector('.f .crossed').style.display == 'block') {
    //     stopAllSounds();
    //     activeSound();
    // };
    stopAllSounds('a500a1000'); // to musi być ten sam dźwięk jaki odpalasz nizej zeby wykluczyc go z zatrzymania
    activeSound();
    answerArray = questions[currentStep - 1][index].answers;

    const badAnswerArray = answerArray.filter((badAnswer) => {
        return !badAnswer.isCorrect
    });

    badAnswerIndex = badAnswerArray.map((el) => {
        return answerArray.findIndex((l) => {
            return l === el
        })
    });

    const randomForStay = Math.floor(Math.random() * badAnswerArray.length);

    const ElementForDeleteIndex = badAnswerIndex.splice(randomForStay, 1);


    badAnswerIndex.forEach((el) => {
        answerContainer[el].textContent = ''
    });

    document.querySelector('.h .crossed').style.display = 'block';

    half();

}
const half = () => {
    if (document.querySelector('.h .crossed').style.display == 'block') {
        halves.removeEventListener('click', halfHelp);
        console.log(halves, document.querySelector('.h .crossed').style.display);
    };;
};

document.querySelector('.start__again').addEventListener('click', startAgain);
document.querySelector('.shortcut.restart').addEventListener('click', startAgain);
box.forEach((b) => b.addEventListener('click', changeVolume));
viewInfo();
closeInfo();
activeStep();
document.querySelector('button.new__game').addEventListener('click', startGame)